<!-- Loop through all the menus -->
<ng-container *ngFor="let i of menuService.menus; let menuIndex = index">

    <!-- Current Menu -->
    <div #menu *ngIf="menuService.showMenu[menuIndex]" [style.width]="menuService.setMenuWidth(menuIndex, menu)"
        class="menu-base" tabindex="-1" (onShow)="menuService.onMenuShow(menuIndex, menu)" (mouseover)="menuService.onMenuOver(menuIndex)"
        (focus)="menuService.onMenuFocus(menuIndex)" (blur)="menuService.onMenuBlur(menuIndex, menu)"
        (mousedown)="$event.stopPropagation()" (contextmenu)="$event.preventDefault()">


        <!-- Loop through the contents of the current menu -->
        <ng-container *ngFor="let j of menuService.menus[menuIndex].options; let optionIndex = index">

            <!-- Option -->
            <div *ngIf="menuService.menus[menuIndex].options[optionIndex].type == 'option'" 
                class="menu-option"
                (mouseover)="menuService.onMenuOptionOver(menuIndex, optionIndex)"
                [ngClass]="{'disabled-option': menuService.menus[menuIndex].options[optionIndex].isDisabled}"
                (click)="menuService.onMenuOptionClick(menuIndex, optionIndex)">
                <!-- Name -->
                <div>
                    {{menuService.menus[menuIndex].options[optionIndex].name}}
                </div>
                <!-- Shortcut Keys -->
                <div *ngIf="menuService.menus[menuIndex].options[optionIndex].shortcutKeys != null">
                    {{menuService.menus[menuIndex].options[optionIndex].shortcutKeys}}
                </div>
            </div>


            <!-- Router Option -->
            <div *ngIf="menuService.menus[menuIndex].options[optionIndex].type == 'router option'" 
                class="menu-option"
                [routerLink]="menuService.menus[menuIndex].options[optionIndex].path"
                (mouseover)="menuService.onMenuOptionOver(menuIndex, optionIndex)"
                [ngClass]="{'disabled-option': menuService.menus[menuIndex].options[optionIndex].isDisabled}"
                (mousedown)="menuService.onMenuRouterOptionDown()">
                <!-- Name -->
                <div>
                    {{menuService.menus[menuIndex].options[optionIndex].name}}
                </div>
                <!-- Shortcut Keys -->
                <div *ngIf="menuService.menus[menuIndex].options[optionIndex].shortcutKeys != null">
                    {{menuService.menus[menuIndex].options[optionIndex].shortcutKeys}}
                </div>
            </div>


            <!-- Divider -->
            <div *ngIf="menuService.menus[menuIndex].options[optionIndex].type == 'divider'" class="menu-divider"></div>


            <!-- Sub Menu -->
            <div *ngIf="menuService.menus[menuIndex].options[optionIndex].type == 'sub menu'" class="sub-menu-option"
                [ngClass]="{'sub-menu-option-highlight': menuService.subMenuOptionHighlightOn[menuService.menus[menuIndex].options[optionIndex].subMenuIndex], 'disabled-option': menuService.menus[menuIndex].options[optionIndex].isDisabled }"
                (mouseover)="menuService.onSubMenuOptionOver(menuIndex, optionIndex)"
                (mouseout)="menuService.onSubMenuOptionOut(menuIndex, optionIndex)">
                <!-- Name -->
                <div style="pointer-events: none;">
                    {{menuService.menus[menuIndex].options[optionIndex].name}}
                </div>
                <!-- Arrow -->
                <div style="pointer-events: none;" class="arrow-right"></div>
            </div>
        </ng-container>
    </div>
</ng-container>