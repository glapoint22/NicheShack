<div #widget class="widget" (mousedown)="onMousedown()"
    [ngClass]="{'widget-selected': widgetService.selectedWidget == this}"
    (dblclick)="$event.stopPropagation(); onEdit()"
    [style.background]="fill.apply ? 'rgba(' + fill.color.r + ',' +  fill.color.g + ',' + fill.color.b + ',' + fill.color.a + ')' : 'transparent'"
    [style.border]="border.apply ? border.width + 'px ' + border.style + ' ' + border.color.toHexA() : 'none'"
    [style.borderRadius]="corners.topLeft + 'px ' + corners.topRight + 'px ' + corners.bottomRight + 'px ' + corners.bottomLeft + 'px'"
    [style.box-shadow]="shadow.enable ? shadow.x + 'px ' + shadow.y + 'px ' + shadow.blur + 'px ' + shadow.size + 'px ' + shadow.color.toHexA() : 'none'"
    [style.margin]="horizontalAlignment.value" [style.paddingTop]="paddingTop.value"
    [style.paddingRight]="paddingRight.value" [style.paddingBottom]="paddingBottom.value"
    [style.paddingLeft]="paddingLeft.value" [style.maxWidth.px]="width ? width : null" [style.minHeight.px]="height"
    [style.height.px]="widgetService.currentWidgetCursor ? widget.getBoundingClientRect().height : null">


    <!-- Handles -->
    <div id="handle" class="top-center-handle"></div>
    <div id="handle" class="left-handle"></div>
    <div id="handle" class="bottom-center-handle"></div>
    <div id="handle" class="right-handle"></div>
    <div id="handle" class="top-left-handle" (mousedown)="onHandleMousedown('top-left')"></div>
    <div id="handle" class="top-handle-bar" (mousedown)="onHandleMousedown('top')"></div>
    <div id="handle" class="top-right-handle" (mousedown)="onHandleMousedown('top-right')"></div>
    <div id="handle" class="right-handle-bar" (mousedown)="onHandleMousedown('right')"></div>
    <div id="handle" class="bottom-right-handle" (mousedown)="onHandleMousedown('bottom-right')"></div>
    <div id="handle" class="bottom-handle-bar" (mousedown)="onHandleMousedown('bottom')"></div>
    <div id="handle" class="bottom-left-handle" (mousedown)="onHandleMousedown('bottom-left')"></div>
    <div id="handle" class="left-handle-bar" (mousedown)="onHandleMousedown('left')"></div>

    <container #container (onRowTransform)="onRowTransform($event)"></container>
</div>