<div class="container">
    <!-- Designer -->
    <div class="flex-container" *ngIf="popupService.nicheShackHierarchyPopup.selectedItem && 
        popupService.nicheShackHierarchyPopup.selectedItem.type == hierarchyItemType.Niche || 
        (popupService.nicheShackHierarchyPopup.selectedItem && 
        popupService.nicheShackHierarchyPopup.selectedItem.type == hierarchyItemType.Product && 
        productEditorMode == 'email')">
        <designer></designer>
    </div>


    <!-- Product Info -->
    <div class="flex-container" *ngIf="popupService.nicheShackHierarchyPopup.selectedItem && 
        popupService.nicheShackHierarchyPopup.selectedItem.type == hierarchyItemType.Product && 
        productEditorMode == 'properties'">
        <product-info></product-info>
    </div>


    <!-- Properties Editor -->
    <div class="properties-editor-container">
        <properties-editor>
            <ng-container
                *ngIf="popupService.nicheShackHierarchyPopup.selectedItem && popupService.nicheShackHierarchyPopup.selectedItem.id">

                <!-- Category Editor -->
                <category-editor
                    *ngIf="popupService.nicheShackHierarchyPopup.selectedItem.type == hierarchyItemType.Category"
                    [hierarchyItem]="popupService.nicheShackHierarchyPopup.selectedItem"></category-editor>

                <!-- Niche Editor -->
                <niche-editor *ngIf="popupService.nicheShackHierarchyPopup.selectedItem.type == hierarchyItemType.Niche"
                    [hierarchyItem]="popupService.nicheShackHierarchyPopup.selectedItem"></niche-editor>

                <!-- Product Editor -->
                <product-editor
                    *ngIf="popupService.nicheShackHierarchyPopup.selectedItem.type == hierarchyItemType.Product"
                    [hierarchyItem]="popupService.nicheShackHierarchyPopup.selectedItem"
                    (onModeChange)="productEditorMode = $event"></product-editor>
            </ng-container>
        </properties-editor>
    </div>
</div>