<fieldset style="height: 294px; position: relative;">
    <legend>Keywords</legend>
    <div class="icon-bar">
        <!-- Trash -->
        <div [attr.title]="!isDeleteDisabled ? isEditDisabled ? 'Delete Keywords' : 'Delete Keyword' : ''"
             class="icon-container"
             [ngClass]="{'icon-disabled': isDeleteDisabled}"
             (mouseover)="preventMousedown=true"
             (mouseout)="preventMousedown=false"
             (click)="deleteKeyword()">
            <i class="fas fa-trash-alt"></i>
        </div>

        <!-- Edit -->
        <div [attr.title]="!isEditDisabled ? 'Edit Keyword (Ctrl+Shift+K)' : ''" 
             class="icon-container"
             [ngClass]="{'icon-disabled': isEditDisabled}"
             (mouseover)="preventMousedown=true"
             (mouseout)="preventMousedown=false"
             (click)="editKeyword()">
            <i class="fas fa-edit"></i>
        </div>

        <!-- Add -->
        <div [attr.title]="!isAddDisabled ? 'Add Keyword (Ctrl+Alt+K)' : ''" 
             class="icon-container"
             [ngClass]="{'icon-disabled': isAddDisabled}"
             (mouseover)="preventMousedown=true"
             (mouseout)="preventMousedown=false"
             (click)="addKeyword()">
            <i class="fas fa-plus-circle"></i>
        </div>
    </div>

    <div (contextmenu)="$event.preventDefault()" class="background" (mouseup)="setContextMenu($event)">
        <table>
            <tr *ngFor="let keyword of keywords; let keywordIndex = index" >
                <td #keyword
                    class="keywordList"
                    [contentEditable]="editedKeywordIndex == keywordIndex"
                    [textContent]="keywords[keywordIndex].name"
                    (mouseover)="preventMousedown=true"
                    (mouseout)="preventMousedown=false"
                    (mousedown)="onKeywordDown(keywordIndex)"
                    (dblclick)="onKeywordDoubleClick(keywordIndex)"
                    [ngClass]="{'selected-keyword': selectedKeywordIndex == keywordIndex,
                                'unselected-keyword': unselectedKeywordIndex == keywordIndex,
                                'edited-keyword': editedKeywordIndex == keywordIndex,
                                'selected-keyword-top': keywords[keywordIndex].selectType == 'top',
                                'selected-keyword-middle': keywords[keywordIndex].selectType == 'middle',
                                'selected-keyword-bottom': keywords[keywordIndex].selectType == 'bottom',
                                'selected-keyword-whole': keywords[keywordIndex].selectType == 'whole',
                                'transparent-keyword': editedKeywordIndex != null && editedKeywordIndex != keywordIndex}">
                </td>
            </tr>
        </table>
    </div>
</fieldset>