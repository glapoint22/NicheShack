<div class="grid">

    <!-- Dropdown -->
    <div class="dropdown-container">
        <div class="icon-container" (mousedown)="showMenu = true">
            <i class="fas fa-chevron-down"></i>
        </div>
    </div>

    <!-- Publish menu -->
    <div *show="showMenu" class="fade-start menu-base" transitionClass="fade-end" tabindex="0"
        (onHide)="showMenu = false" (blur)="showMenu = false">

        <div (mousedown)="$event.stopPropagation()">
            <div class="menu-option">
                <div>Publish</div>
            </div>
        </div>
    </div>


    <!-- Hoplink -->
    <fieldset>
        <legend>Hoplink</legend>
        <input type="text">
    </fieldset>

    <div class="row" style="margin-bottom: 12px;">

        <!-- Description -->
        <div class="col-6-xl">
            <fieldset class="margin-right-3-xl">
                <legend>Description</legend>
                <product-description></product-description>
            </fieldset>
        </div>

        <!-- Image -->
        <div class="col-3-xl col-6-lg">
            <fieldset class="margin-right-3-lg">
                <legend>Image</legend>
                <div class="icon-bar">
                    <div class="icon-container" title="Image">
                        <i class="fas fa-image"></i>
                    </div>
                </div>

                <div class="background display-flex justify-content-center align-items-center" style="height: 270px;">
                    <img src="images/68010370e5514c82b1e5b138143d0862.png" style="max-width: 75%; max-height: 75%;">
                </div>

            </fieldset>
        </div>


        <!-- Filters -->
        <div class="col-3-xl col-6-lg">
            <fieldset>
                <legend>Filters</legend>

                <div class="icon-bar">
                    <!-- Collapse -->
                    <div class="icon-container" title="Collapse">
                        <i class="fas fa-minus-square"></i>
                    </div>

                    <!-- Trash -->
                    <div class="icon-container" title="Delete">
                        <i class="fas fa-trash-alt"></i>
                    </div>

                    <!-- Add -->
                    <div class="icon-container" title="Add filter">
                        <i class="fas fa-plus-circle"></i>
                    </div>
                </div>

                <div class="background" style="height: 270px;">

                    <div class="arrow-button-container">
                        <input type="checkbox" [id]="'Billing Type'">
                        <label class="arrow-button" [for]="'Billing Type'"></label>
                        <div>Billing Type</div>
                    </div>

                    <!-- Content -->
                    <div style="padding-left: 28px;">
                        <div class="display-flex align-items-center">
                            <input type="checkbox">
                            <div>Single Payment</div>
                        </div>

                        <div class="display-flex align-items-center">
                            <input type="checkbox">
                            <div>Trial</div>
                        </div>
                    </div>



                    <div class="arrow-button-container">
                        <input type="checkbox" [id]="'Gender'">
                        <label class="arrow-button" [for]="'Gender'"></label>
                        <div>Gender</div>
                    </div>

                </div>

            </fieldset>
        </div>
    </div>



    <div class="row">

        <!-- Content -->
        <div class="col-8-xxl">
            <fieldset class="margin-right-3-xxl" style="height: 293px; position: relative;">
                <legend>Content</legend>
                <div class="icon-bar">
                    <!-- Trash -->
                    <div class="icon-container" title="Delete">
                        <i class="fas fa-trash-alt"></i>
                    </div>

                    <!-- Add -->
                    <div class="icon-container" title="Add">
                        <i class="fas fa-plus-circle"></i>
                    </div>
                </div>
                <div class="background"
                    style="height: 214px; position: absolute; top: 60px; left: 15px; right: 15px; bottom: 0">





                    

                    <table (mouseover)="overTable = true" (mouseout)="overTable=false">
                        
                        <!---------- (1st Row) ---------->
                        <tr>
                            <td (mousedown)="removeFocus()"></td>
                            <td (mousedown)="removeFocus()"></td>
                            <td (mousedown)="removeFocus()"></td>

                            <!-- column selectors -->
                            <td *ngFor="let row of product.pricePoints; let i = index" [ngClass]="{'selected-cells': selectedColumn == i}" (click)="onColumnSelectorClick(i)"></td>
                        </tr>


                        <!---------- (2nd Row) ---------->
                        <tr>
                            <td (mousedown)="removeFocus()"></td>
                            <td (mousedown)="removeFocus()"></td>
                            <td (mousedown)="removeFocus()">Items</td>

                            <!-- Price points -->
                            <td #pricePoint (keydown.escape)="pricePoint.blur()" contenteditable="true" *ngFor="let pricePoint of product.pricePoints; let i = index" [ngClass]="{'selected-cells': selectedColumn == i}" (focus)="removeFocus()">
                                {{product.pricePoints[i]}}
                            </td>
                        </tr>


                        <!---------- (Item Rows) ---------->
                        <tr *ngFor="let item of product.items; let i = index">

                            <!-- Row selctors -->
                            <td [ngClass]="{'selected-cells': selectedRow == i}" (click)="onRowSelectorClick(i)"></td>

                            <!-- Content types -->
                            <td (click)="showContentTypeForm(i)" [ngClass]="{'selected-content-type': contentType.selected[i],'selected-cells': selectedRow == i}">
                                <img [src]="product.items[i].type">
                            </td>

                            <!-- Item descriptions -->
                            <td #itemDesc (keydown.escape)="itemDesc.blur()" contenteditable="true" [ngClass]="{'selected-cells': selectedRow == i}" (focus)="removeFocus()">
                                {{product.items[i].description}}
                            </td>

                            <!-- Price point options -->
                            <td *ngFor="let pricePointOption of product.pricePoints; let j = index" (click)="togglePricePointOption(j, i)" [ngClass]="{'selected-cells': selectedColumn == j || selectedRow == i, 'selected-column': selectedColumn == j, 'selected-row': selectedRow == i, 'selected-price-point-option': selectedPricePointOptionColumn == j && selectedPricePointOptionRow == i     }">
                                <i [ngClass]="{'fas fa-check': product.items[i].pricePointOptions[j]}"></i>
                            </td>
                        </tr>
                    </table>




                  









                </div>
            </fieldset>
        </div>


        <!-- Media -->
        <div class="col-2-xxl col-6-md">
            <fieldset class="margin-right-3-md">
                <legend>Media</legend>
                <div class="icon-bar">
                    <!-- Trash -->
                    <div class="icon-container" title="Delete">
                        <i class="fas fa-trash-alt"></i>
                    </div>

                    <!-- Add -->
                    <div class="icon-container" title="Add">
                        <i class="fas fa-plus-circle"></i>
                    </div>

                    <div class="icon-container" title="Play video">
                        <i class="fas fa-play-circle"></i>
                    </div>
                </div>

                <div class="background" style="height: 214px;">
                    <div class="margin-bottom-2 display-flex justify-content-center align-items-center"
                        style="width: 88px; height: 50px; background: red; cursor: pointer;">
                        <i class="far fa-play-circle font-size-6"></i>
                    </div>

                </div>
            </fieldset>
        </div>


        <!-- Keywords -->
        <div class="col-2-xxl col-6-md">
            <fieldset>
                <legend>Keywords</legend>
                <div class="icon-bar">
                    <!-- Trash -->
                    <div class="icon-container" title="Delete Keyword(s)">
                        <i class="fas fa-trash-alt"></i>
                    </div>

                    <!-- Add -->
                    <div class="icon-container" title="Add keyword">
                        <i class="fas fa-plus-circle"></i>
                    </div>
                </div>

                <div class="background" style="height: 214px;">
                    <div>Gumpy</div>
                    <div>Ice Cream</div>
                </div>
            </fieldset>
        </div>

    </div>
</div>