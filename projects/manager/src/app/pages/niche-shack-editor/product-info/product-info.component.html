<div *ngIf="productService.product" class="container">
    <div class="product-container">

        <!-- Media -->
        <ng-container *ngIf="productService.product.media.length > 0">
            <!-- Thumbnails -->
            <div *ngIf="productService.product.media.length > 1" class="media" [scrollTop]="this.productService.scrollTop">
                <div *ngFor="let media of productService.product.media; let thumbnailIndex = index" class="thumbnail"
                    [ngStyle]="{ 'background-image': 'url(images/' + media.image.url + ')'}"
                    [ngClass]="{'selected-thumbnail': this.productService.currentSelectedMediaIndex == thumbnailIndex}"
                    (click)="onThumbnailClick(media, thumbnailIndex)">
                    <i *ngIf="media.type == mediaType.Video" class="far fa-play-circle"></i>
                </div>
            </div>

            <!-- Media display -->
            <div class="img-container">
                <img *ngIf="productService.currentSelectedMedia.type == mediaType.ProductImage"
                    [src]="'/images/' + productService.currentSelectedMedia.image.url">

                <iframe *ngIf="productService.currentSelectedMedia.type == mediaType.Video" frameborder="0"
                    [src]="productService.currentSelectedMedia.safeUrl" allowfullscreen></iframe>
            </div>
        </ng-container>




        <!-- Product -->
        <div class="product-info">
            <!-- Title -->
            <div class="title">{{productService.product.name}}</div>

            <ng-container *ngIf="productService.product.totalReviews > 0">
                <!-- Rating -->
                <stars class="margin-right-4" [rating]="productService.product.rating"></stars>

                <!-- Reviews -->
                <span class="reviews" *ngIf="productService.product.rating > 0">
                    {{productService.product.totalReviews | number}} reviews
                </span>
            </ng-container>



            <!-- Price -->
            <div class="price">
                {{productService.product.price}}


            </div>

            <div *ngIf="productService.product.hoplink" class="product-button"
                (click)="onBuyClick(productService.product.hoplink)">Visit Product Page To Buy
            </div>

            <!-- Description -->
            <div class="description" [innerHTML]="productService.product.safeDescription"></div>
        </div>
    </div>



    <!-- Product Conent -->
    <ng-container *ngIf="productService.product.content.length > 0">
        <!-- Heading -->
        <h3 [ngClass]="{'text-center margin-left-8': productService.product.pricePoints.length > 1}">
            {{productService.product.pricePoints.length > 1 ? 'Payment options' : 'Included with your purchase'}}
        </h3>


        <!-- Content -->
        <div
            [ngClass]="{'display-flex justify-content-center flex-wrap': productService.product.pricePoints.length > 1}">

            <!-- Price Points -->
            <div *ngFor="let pricePoint of productService.product.pricePoints; let i = index"
                [ngClass]="{'price-points-container': productService.product.pricePoints.length > 1}">


                <div *ngIf="productService.product.pricePoints.length > 1" class="price-points">
                    {{pricePoint.textBefore}} {{pricePoint.wholeNumber + (pricePoint.decimal * 0.01) | currency:'USD'}}
                    {{pricePoint.textAfter}}
                </div>

                <!-- Content Item -->
                <div [style.padding.px]="productService.product.pricePoints.length > 1 ? 8 : 0">
                    <ng-container *ngFor="let content of productService.product.content">

                        <div *ngIf="content.priceIndices[i]" class="content-item">
                            <div class="img-container">
                                <img *ngIf="content.icon" [src]="'images/' + content.icon.url">
                            </div>

                            <div class="content-title">
                                {{content.title}}
                            </div>
                        </div>
                    </ng-container>
                </div>
            </div>
        </div>
    </ng-container>
</div>