<div #modal *show="show" transitionClass="fade-end" class="modal-background fade-start" tabindex="0"
    (onShow)="setDefault()" (onHide)="show = false">
    <div class="prompt" (mousedown)="$event.stopPropagation()">
        <div class="title-bar">
            Add to List
            <div class="close-button" (click)="show = false" title="Close">
                <i class="fas fa-times"></i>
            </div>
        </div>

        <div class="prompt-content">

            <!-- Title & Image -->
            <div class="title text-truncate">{{product.name}}</div>
            <img [src]="'/images/8d5741456a824e8981efdfa348d2cb0d.jpg'">

            <!-- Not submitted -->
            <ng-container *ngIf="!submitted; else isSubmitted">
                <select [(ngModel)]="selectedList">
                    <option *ngFor="let list of lists" [ngValue]="list">{{list.value}}</option>
                </select>

                <!-- Buttons -->
                <div class="button-container">
                    <button class="primary-button" (click)="onCreateListClick.emit()">Create List</button>
                    <button (click)="show = false">Cancel</button>
                    <button class="alt-button" (click)="onSubmit(); modal.focus()"
                        [disabled]="selectedList.value === 'Select your list'">Submit</button>
                </div>
            </ng-container>


            <!-- Submitted -->
            <ng-template #isSubmitted>
                <h4 style="text-align: center; margin-bottom: 10px;">
                    This item was added to {{selectedList.value}}.
                </h4>

                <div class="button-container" style="justify-content: flex-end;">
                    <button (click)="show = false">Done</button>
                    <button class="alt-button" style="margin-left: 5px">View List</button>
                </div>

            </ng-template>
        </div>
    </div>
</div>