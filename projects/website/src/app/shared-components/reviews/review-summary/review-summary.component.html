<div class="width-100 display-flex justify-content-center">
    <div *ngIf="product.rating > 0; else noRating" class="display-flex flex-wrap justify-content-center">

        <!-- Rating & Stars -->
        <div class="text-center margin-right-16-sm width-100 width-auto-sm">
            <div class="display-flex align-items-center justify-content-center">
                <div style="font-size: 46px" class="niche-shack-gold font-bold margin-right-8">
                    {{product.rating | number:'1.1-1'}}</div>

                <div>
                    <stars [rating]="product.rating"></stars>
                    <div class="primary-color-light">
                        {{product.totalReviews | number}} review{{product.totalReviews > 1 ? 's' : ''}}
                    </div>
                </div>
            </div>
            <button class="alt-button width-100-sm margin-bottom-16"
                    (click)="onWriteReviewClick(product.id)">Write a Review</button>
        </div>



        <!-- bars -->
        <div>
            <div class="display-flex align-items-center flex-wrap justify-content-center"
                *ngFor="let stat of reviewStats; let i = index">
                <div style="width:50px">{{stat.name}}</div>
                <div class="bar-base">
                    <div class="bar" [style.width.px]="stat.percentage * 2"></div>
                </div>

                <div class="margin-left-4 show-xs">
                    {{(stat.percentage)}}%
                </div>
            </div>
        </div>
    </div>

    <!-- No Rating -->
    <ng-template #noRating>
        <div class="text-center">
            <div class="primary-color-light margin-bottom-8">Be the first to review this item!</div>
            <button class="alt-button" (click)="onWriteReviewClick(product.id)">Write a Review</button>
        </div>

    </ng-template>
</div>